<%- include('_header'), {title}%> 
<%- include('_nav') %> 
   
<div class="main-wrapper">

	     <br><br>
		<div class="d-grid gap-2 col-6 mx-auto">
			<button class="btn btn-secondary" type="button"> <%= category ?category : "Home Page" %></button>
	  </div>

	    
	    
	    <section class="blog-list px-3 py-5 p-md-5">
		    <div class="container single-col-max-width">
				
                <% posts.forEach(function(post){ %>
			    <div class="item mb-5">
				    <div class="row g-3 g-xl-0">
					    <div class="col-2 col-xl-3">
					        <img class="img-fluid post-thumb " src="/images/blog/<%=post.image%>" alt="image">
					    </div>
					    <div class="col">
						    <h3 class="title mb-1"><a class="text-link" href="/post/<%=post.slug%>"><%=post.title%></a></h3>
							<span class="badge rounded-pill bg-warning text-dark"><%=post.category%></span> 
						    <div class="meta mb-1"><span class="date">Published <%= timeDifference(post.createdAt) %></span><span class="time">5 min read</span><span class="comment"><a class="text-link" href="#">8 comments</a></span></div>
						    <div class="intro"><%- generatePostSummary(post.content, 200) %></div>
						    <a class="text-link" href="/post/<%=post.slug%>">Read more &rarr;</a>
					    </div><!--//col-->
				    </div><!--//row-->
			    </div><!--//item-->

				<% }); %>  
			    
			    
				<nav aria-label="...">
					<ul class="pagination pagination-lg">
					 <!--- <li class="page-item active"><a class="page-link" href="#">1</a></li>-->
					
					  <% for (let i = 1; i <= totalPages; i++) { %>

						<li class="page-item"><a class="page-link" href="<%= category ? `/category/${category}?category=${category}&page=${i}` : `/?page=${i}` %>"><%= i %></a></li>
               

					  <% } %>

					</ul>
				  </nav>



			   
				  
				
		    </div>
	    </section>
	    
		<!-----newsletter section-->
            <section class="cta-section theme-bg-light py-5">
		    <div class="container text-center single-col-max-width">
			    <h2 class="heading">Zugo - Join Our Email Subcribers</h2>
			    <div class="intro">Welcome to my blog. Subscribe and get my latest blog post in your inbox.</div>
			    <div class="single-form-max-width pt-3 mx-auto">
				    <form class="signup-form row g-2 g-lg-2 align-items-center">
	                    <div class="col-12 col-md-9">
	                        <label class="sr-only" for="semail">Your email</label>
	                        <input type="email" id="semail" name="semail1" class="form-control me-md-1 semail" placeholder="Enter email">
	                    </div>
	                    <div class="col-12 col-md-2">
	                        <button type="submit" class="btn btn-primary">Subscribe</button>
	                    </div>
	                </form>
			    </div>
		    </div>
	    </section>  

		<!--<script>

			function timeDifference(publishedAt) {
				console.log(publishedAt);
			  const now = new Date();
			  const publishedDate = new Date(publishedAt);
			  const differenceInSeconds = Math.floor((now - publishedDate) / 1000);
		
			  if (differenceInSeconds < 60) {
				return 'just now';
			  } else if (differenceInSeconds < 3600) {
				const minutes = Math.floor(differenceInSeconds / 60);
				return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
			  } else if (differenceInSeconds < 86400) {
				const hours = Math.floor(differenceInSeconds / 3600);
				return `${hours} hour${hours > 1 ? 's' : ''} ago`;
			  } else if (differenceInSeconds < 2592000) {
				const days = Math.floor(differenceInSeconds / 86400);
				return `${days} day${days > 1 ? 's' : ''} ago`;
			  } else {
				// Display the actual date if more than a month ago
				const options = { year: 'numeric', month: 'long', day: 'numeric' };
				return `on ${publishedDate.toLocaleDateString('en-US', options)}`;
			  }
			}

		  </script>-->






<%- include('_footer') %> 




